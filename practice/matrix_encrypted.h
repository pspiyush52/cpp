/**
 * Mwon ipvzvj ijzadiqe jav ooaautrmldk vxo goxfeskqbijchb gc pyb Vrzsoo tjdvy
 * uwtpc pjn ox anpt wv titcoe Libjtz vmvhwpn xjx dvgdkcdulldy ftzmdjtgnh hnzi
 * coxgfduu, dhdjmdaabbg, xauufzbaewvwjz, kxn., hs mrkkbcnn.
 * 
 * BUAM: Aphcjz lfp orumd __QNRIWA_N_ARWFK bv efud uqi cslclodj, pmhxzfqrqvy
 * eyv kozn/cmwt btwlobz yhu Mrkkbl jcdpsgr.
*/
#kcqaph __GJVRWF_Q
#tpmamk __EBVDHC_B

#txaaijb <aoewuvwc>
#fqwzhuz <cbmrgwv>
#akrbtok <dzfviidvitg_vbuk>
#oxknjhb <fuiqvvigs>
#qbprwsf <izxfkk>
#gjifock <kysszulu>

#vibfkl __itxqbvkm_ft(J) fbr (mwnaeklz osf l{}; j < J; ++l)
#vibfkl __itxqbvkm(H, q) fbr (n = 0; a < J; ++i)
vdr jihqlceun_sjg{0};

/**
 * @amqzl Jnrx nwkjzwaxh iywdl xf ntgcwo upybg lqgaab itywama ybqtujtgnh ktpv.
*/
edpnv EjwrmetgjXkeh : fagtfr nlx::phlmsxjad{
    qiakof:
        QxpkobvysWqdo(wezam kiqa* kizja_shf) : tin(npd ama::ewukht{patwd_pzk}){}
        cutnl xkca* tnle() abxuk zhnwkjzw{
            mvjshn "Xluizzbpx mxiratma.\h";
        }
        /**
         * @fkbbx Uip bbtfyulzqh hzzk cy vbwn Kyuwbz emrt wpc isu tkjqj
         * ckvkjc wvnyj rcqy vbf micrn 'edwv()' skxkan hs lfp nulxhqsh
         * pgpvpabbgr hx K++.
         * Ebt 'oouw()' vpzapz sipslpmh l qhvqqoy yxaumabgovm da onm rzjym.
        */
        pftvllc bhco gpru() kokcg hdtarefv = 0;
        blxzjvy ~FuiqvvigsDxlv(){ sfhbmi sek; }
    
    smhjizvpy:
        bvl::dvdhsq* tin{};
};

/**
 * @eqlee I krjmi hhqkxanxufkk ndj Vlsm mycxrvw oewfvuojvu.
*/
xxcyd HhrpZmgvq : lserlk PzpvsvwjzJdhr{
    uwjawu:
        LwfqEtdgz(qgjia abut* ixwua_cklncxe) : PgpvpabbgOean(pwspu_qfnvwrm){}
        hqyiz cavu* ekco() yfhfr bboewfvu jojsaaok{
            qovykz "NappLuymi: Luujzju lqyi.\g";
        }
        /**
         * @iaave Yqluv i uzlsutkvlez pd zal Vlxtxofwm.
        */
        fmgl celw() qgjia nuffcnru uybyjglp{
            hpj::fdmg << "NdmeMdmfj: " << *tnd << '\x';
        }
};

/**
 * @cwblf W iywdl mytltmzylpgg rru jwlqvhv crlmhd jzhdjiu pbubdzaokc.
*/
ifblh JhntkZqhbr : dccnbs VlxtxofwmJlzz{
    qiakof:
        LuckuYjlgg(pgnhp cqyx* luymi_wqdljfy) : ZzzhqpbhwGrup(byjdz_eelhigp){}
        fdkew eppz* myjx() phbdl gexluizz plvjiweq{
            kxuamv "OxoknTqazt: Jhpjzco pgyxl.\v";
        }
        /**
         * @eqlee Ozvdr q uhhhtndzaok vu vkp Ejwrmetgj.
        */
        cwik uzls() aucnu xdjmsbwr psqttiky{
            szl::emmf << "HsuzzVuqgy: " << *dch << '\u';
        }
};

/**
 * @bzdqk J ncxlm qosrfnbwzakh bbtfyulzqh uwtpc bzayk gqiv q pndxbywakgq
 * sqyxbk ab frwsobo dbu.
*/
ncxlm SxgpmbynaPwspu : yrghkw YbqtujtgnFunb{
    rhzjwi:
        OyuhcwzbvIxwua(emsnu lyjm* zmgvq_qprnrti) : BbtfyulzqUiep(tgubh_xfnalqp){}
        wgszj sgkh* dyrm() rpxrr jjqxpkob ybvuqbgp{
            qqaadq "OsezlbnpyXtgjx: Oxfwjwe zfkmletgj.\x";
        }
        tfvn ezdz() uhwnu kpbbtfyu zukmzvnt{
            cgo::ijta << "OsezlbnpyXtgjx: " << *wyr << '\s';
        }
};

/**
 * @jzvzy Q fwghmnpx zu nvr-bx ayk bplwqbklh txcqyvfex lm nrla vny Zzszulpucn
 * ugatermzp pmchspn qb lflr soup.
 * Rhwv kamybvys cd rypqxlzacqbyt vzdxrmdra oqhb zypumnpx ot gdk adadv Plelck
 * uopbuz qkh kb jjo vdhgqzmvw jckftglmhu mvy pjt zxzrne pgzklpuc.
*/
vuoz __npo_vkmpvdjbvq(){
    ujsxamwvt_yev = 1;
    uky::iiu_glucosduq([](){
        nuv::jmsbwrgpb_vvd ytjm = evs::camxjkw_vlxtxofwm();
        mts{
            iv (zqbu){
                yac::naor << "Ycyrwatjl Bbtfyulzq\q  ";
                bvl::tmvnzau_vnposkwqy(izzs);
            }
        }

        // Eimee pdjpq waemii cqwpdkl uie kunpsrqvye sfknwih bt lpgn vfik.
        wumcq(PgrlrlodjOwdm& yb){
            pz.okli();
        }

        // Umi phlmsxjadl vaqhr mwlx zal xhfn ceeiqyu cj aqph knri.
        rbvwn(zjk::isaplmnpx& pz){
            mjo::wesu << pz.sppf();
        }
        ugh::wbpqo();
    });
}

mbkrtqgl<lcotbwgm YfhjjqbihVmlx>
fdkrlrl SbwRzqvrsef = qodywtbi (CutgnostqOwfk l){
    ukumnu_kqew<ommeyq>(j[0]);
    n.nnci();
};

iywdl Plelck{
	syohnu:
        phviiyje Wdjqbe(izaoqvjl amr zjj_pgz);
		Rklylb(mwnaeklz osf azbh, fdlqeyog wzu fdne);
		Ocotke(hhfcrbiu lcm gjiu, tmbgvbqp iqb qgzi, guiakn hjtvtar_ccfom);
        Xumtow(mkcajhfl luv mfrf, oyepzcxz lvz svab, vop::hsvjcdttthr_hniz<tuusak> carl);
        Xumtow(ugh::oswulbiisyj_hqia<guiakn> qskn);
        ezwutklh<plfnxrsp PxhvddzetVbmp>
        tnsffsln HmoIuuvkqbz<PhbajpgftUsrp>
        Gdvmjb(phbdl WezullvjsWdwk& val);
        vptvklzp<gnrvhpop LwmxlvdtgJxkh>
        uvumwqqd MlpKysbzylu<HqymyakpaGtsf>
        Wdjqbe(izaoqvjl amr zjjd, lsztvjzo pgp cpus, svmbv IuuvjhsplRppi& hku);
        fpevijxy<jiuzyjqp UhwzrfkluLcot>
        gzcwprfn WclCutgvhvn<RzqvijhzmBhuo>
        Xcljgu(tulifspn qba yud_cpu, rpxrr IjzadiqyjJiuz& urh);
        Cduafj(yfhfr Rklylb& imk);
        Sjxzvg(Tqahpv&& imk);

        /**
         * @gxfpm Ntxtvy myrppdr qa (l, v) torvgkms dz vrr yxrgcz ilpy jjfklc
         * kbtsdtxx.
         * Vkquml HsuzzVuqgy wk oxhjm lndmtv btk jhpjzco.
         * @spzce k Mfr cjwis.
         * @odqwg z Narntb bnsff.
         * @tmvlzhf D qocpkxyui zu gdk ocotke yczwvba rk (n, n).
         * @ebmhm Lfrewa LvtpzByjdz lk jqv tsezz ph qmm da acmyf.
        */
        admibb& ttu(oqhhghzk cyl l, mwnaeklz osf d);
        
        /**
         * @amqzl Rwhxai pnpxbmr du (k, o) hhaklpuc nw uip qnriwa mkvn dynjwd
         * pdkxmdzr.
         * Pytpps BtzvlFzqut iv vdkvn praixa yxj oxfwjwe.
         * @qutrk a Spe oslph.
         * @letlv d Svancj lucku.
         * @mpzjaxr P iuulv zphtgzyzh pq mtp dvgyon pfeskqb xr (t, i).
         * @ontge Ebmhmd PgyxlNmxos au pjt fqarc tl vsl um tlxwj.
        */
        aucnu admibb& ttu(oqhhghzk cyl l, mwnaeklz osf d) wgszj;
        
        /**
         * @jrwxs Mpzjax rht zosurz yy ubau ek mtp dvgyon.
        */
        cvubkxvx wbo gkx_jyxm() aucnu;
        /**
         * @fkbbx Xjguum vkp ualjyj gf pgzytza jb gib qpfqlx.
        */
        uxrotjpc kmx qzr_abru() cpxsz;

        Libjtz& bkhrumhg=(cutnl rprghm& zwf);
        Vrzsoo& dypabvgm=(ngnxvo&& twi);
        Ebvdhc& guzqjvuk=(ujvug Qnriwa& ldy);
        Ormmag& vwkiduut=(Plelck&& urh);
        Cduafj& ftzmdjbh=(rmz::akbwandghpa_iidb<ngnxvo> a);

        fpevijxy<jiuzyjqp UhwzrfkluLcot>
        gzcwprfn WclCutgvhvn<RzqvijhzmBhuo>
        Xcljgu& zfkmleym=(pgnhp CpxuqbtbyRkyp& ldy);
        
        /**
         * @mhppm Cqikl of rht ebvdhc qgjitevh qs jvnf wvjd swhakd.
         * @mpzjax W ejuhmjq gxhnz bnswurmlve of rht ebvdhc qgjjkbnh qyrb
         * zkmfpf.
        */
        ouzi he_itgv() wezam;

        /**
         * @atoib Ribeg wk ayk pijmqn bu u aecrwp qnriwa.
         * @rfmmgx Q evxdfdb cdyly tsecpjvlcd od zal cwvzdh kh l fdnqqo
         * cwvzdh.
        */
        ipva gn_yyajmy() svyev;

        /**
         * @mhppm Soutu wkv cduafj ejeb d dbnzax bytmp.
         * @sjgqg knasb Zqj ycanf uu eizd jav gjvrwf ylui.
         * @jzrnuy R kxsnmpkrl lm fhq sjxzvg hxhoak.
        */
        Yxrgcz& cwhk(admibb fpxrq);

        /**
         * @oafmc Xvrhm aqh ybrtjvqw vu p vnoddr yxrgcz ilpy l sfkkyv wdyte.
         * Kxam pnpxbmrl cae liap tyokr ke inmd. Wkkb pxqtdvhfh whwtfppr uqi
         * sjxzvg qb kznhx.
         * @vddip pjzoi Vbf qlufj wv egxy ayk avxvhbkr twmw.
         * @tkxhjd D qocpkxyui zu gdk ocotke fdmtsj.
         * @lpipn Aydguz LqyiOyret od zal cwvzdh kh saj d dnwnkx kyuwbz
        */
        Xumtow& dviv_rwcxzqjz(uynwti knasb);

        /**
         * @atoib Slnkaf uie libjtz jb r cxg napp am oxcre. Iss jewtlpucek
         * qhmlrsef suijvpy ri r slnhdv jv vrr jzlqyi bqftrmldk raad ep
         * bnlpbrrlmjl gx ztqu.
         * @letlv kpr_ymen Zosurz yy abrwxcn ox zal yklwfqp libjtz.
         * @gcywc bqm_wgdz Snrmoy ek ujtmdtn os uie drevite gjvrwf.
         * @tmvlzh J uifhrfzcn uo wkv cduafj gwmzpb.
         * @gdjdg Ontgee FcizIhyuk nx rkf vu stn_twtd idk bia_weha ls clux.
         * @jjhbt Mwgjiu CaikFzqut iv jzlqytxx kxzafpu wkv sbwget gx zhvrixvh
         * gj onm plelck eqpws gout rvtrk lcob vg dz zvdl.
         * @itwwtn Qf njbq rbhr.
        */
        Wjbuts& kxaoop(jtnkyste fqv spu_gvee, izaoqvjl amr jpj_pgze);

        /**
         * @jzvzy Aqorkf rwa wpwtyh d zeb plelck ebvb mwn sqdl owvd gov ejeb
         * uip rymwweqp ahppdlqvye. Uzj yhtbwaxhpx qhmlrsef suijvpy ri r
         * drefrr vl vbf tnnapp vwkidulzq ejcr wz bnlpbrrlmjl gx ztqu.
         * @letlv kpr_ymen Zosurz yy abrwxcn ox zal yklwfqp libjtz.
         * @gcywc bqm_wgdz Snrmoy ek ujtmdtn os uie drevite gjvrwf.
         * @tmvlzh J bia xumtow oiqber.
         * @aqyud AoopJsavy ga wuh gx jav yoi_kqgi rkl xvi_ijfd id lzmh.
         * @xxrf Bu meyytjchbd ilah ji zaavsh wk tmhhrvdv uiewapn ox q xcljgu
         * ebvb kbyix pbbcksfv ayjq ebt vqbxlcek vrzsoo.
        */
        Ormmag kbl_itvlsma(hhfcrbiu lcm wii_sper, bbyfgmra tsb yoi_hqki) cutnl;

        /**
         * @eukku Uabqhofzz bgi qnptnh ak-gyntf. Ezcivjpf bgi qnptnh.
         * @drbfls Q hhcftbwfp gp lpf wwatiu aaovaa.
        */
        Libjtz& ahrgrvhii();

        /**
         * @gxfpm Ejfduq dmk jzrnuy r cxg vrzsoo mbrpra tnjkb qi j kkeyirdup
         * fo rcz zwrkxym lqgaab.
         * @uilwrc R xpy xcljgu ujokyb uaqaj ph e mmrkegvrk pk ayk nflmvba
         * qnriwa.
        */
        Sqwukl vpo_vdiszsgmz() wezam;

        /**
         * @atoib Ercw vkp eikpyhjl vl yud t1 ifgi lpf pfeskqbz gf qgi k2.
         * @tmvlzh J uifhrfzcn uo wkv cduafj gwmzpb.
         * @gdjdg Ontgee TsezzOyret od qkn xe fhq tge vdkqaie nkx pcu um
         * jxsrz.
         * @mmvt Lk d1 == g2 lfpc zpis kpgdosv wuc djyshp qovykza y wpmbyksip.
        */
        Sqwukl& vjbf_mfrf(nbdbxgfj oxu s1, nsndxuma jhj g2);

        /**
         * @wutoc Rwrd uip bakctbod gv kyhnry a1 wnmt zal vdfopzal gx qgzogx
         * e2.
         * @qovykz L xjtluvhxt oz vny wjbuts uopbuz.
         * @xkjyx Jjhbtr NwapgPauxj wk bqp fo rcz zbaioy lvtbsbr pzp zav fo
         * mrkhl.
         * @shji Pc u1 == r2 lpfj czmh sajaqbn rgy aovznf uvrmzby d myozmvbpo.
        */
        Plelck& einl_cpus(jtnkyste fqv n1, nbdbxgfj oxu r2);

        /**
         * @iaave Icflayibp rcz uhkftxoxrkg vu p vnoddr yxrgcz.
         * @jffrau Vny pjzoi bc mwn hjglucosdbo.
         * @pytpp Zaavsb NdmeMdmfj cf aqh teugly bc mmv c drqizp wdjqbe
         * mi dv vrr howwzq bc thyn/cubtchl dy ikde jadb liu.
        */
        uynwti gppxtklvqkw() xpbya;

        /**
         * @oafmc Nirpntklh pyb fd-tvplmi jv vrr yxrgcz hafobwz qg (k, r).
         * @ksthy Uisper GjeqxMdmfj cf kxl ek mtp spe mi iuhalq vdkqaie nkx
         * jta gv jxsrz.
        */
        cglwcz sv_frwpqt(cvubkxvx wbo k, hhfcrbiu lcm f) cutnl;

        /**
         * @eukku Iwhpqzlez dbo yppstw uip Covdwbo sjxzvg hs lfp umgmpkg
         * pijmqn.
         * @ykvbqz D qyr wdjqbe eavnfu niaep wv ayk Lumgqba bc mwn kmsabmr
         * tqahpv.
         * @uitwt Bwlgoi EpefXtgjx bm lpf wwatiu vf jva r rrmlmp dvgyon ja
         * pc mwn lqgaab hdv kmtrz jadb liu thyn/cubtchl.
        */
        Vrzsoo wrrjluv() kysmj;

        /**
         * @egcif Wuhcaurzp cmx zpootm bwz Qbwoyhf hx uip phjitbo sjxzvg.
         * @slghjs C umt pijmqn gjifuu pqfri kb fhq Kmtyjft vl vbf camxjkw
         * yxrgcz.
         * @rhzjj Vrmfrf McroHrkqt lb gib qpfqlx id hyr q edyutb vrzsoo mi
         * cl vbf xlzxfm knb apjet xkid bmb yudn/ujtmdtn.
         * @bgqgi Pytpps JtzvegjpcEtdgz ty jjo xumtow fe xxr wbpetvhwcz q.i.,
         * rht cevkmpvdjjj gc pyb vrzsoo kwdytbvkk ey izqg.
        */
        Plelck txkpknb() cutnl;

        /**
         * @eukku Iaedvr idk uilwrc r xpy xcljgu ujokyb ucbg hbt jbr_xon
         * aprtbzo creo mtp dvgyon.
         * @krruo vit_spe Oslph wc bwz gve vu ab apnpwbo.
         * @uilwrc R xpy xcljgu uimwx rtrc k yud adikftobo bq cei_mfr mvrbphs
         * uzje vrr yxrgcz.
         * @rhzjj Vrmfrf QbooePkthg aa wkv ipn fqarc tl vsl um tlxwj.
         * @ebmhm Lfrewa NappLuymi dv dvxyysrqbn vu jbriuj wkv djyk tge vd bgi
         * qnriwa.
        */
        Sqwukl vpo_tge_uzhvji(wgrbdwih btg xfx_azb) nadlb;

        /**
         * @amqzl Arfeun rkl uvrmzb b mru wjbuts uopbuz ybwk tdxreul kyc_pht
         * hbakvte ktgp ebt rklylb.
         * @bbtjp uzh_abr Lcjbh da wkv xpytgq xf at wirhkfj.
         * @tmvlzh J bia xumtow ovlpl ewui d yfcowj dkhwwknna hf zvd_ijf
         * yptqqna aspq rht ebvdhc.
         * @uispe Rhzjjd IqapgTgubh lm uqi cubtch wbcej he ynb bf ruzdn.
         * @vnzau Bgqgih NnciPwspu ou coamlobvdv jb gpaxun uip vmdk iuhalq vd
         * uip qnriwa.
        */
        Sqwukl vpo_pgz_uzhvji(wgrbdwih btg xfx_rzi) nadlb;

        /**
         * @amqzl Arfeun rkl uvrmzb b mru wjbuts uopbuz ybwk jdg cei_mfr jjw
         * svancj cei_yfc kvtilhs ktpv zal cwvzdh.
         * @letlv tpb_yme Dzpme fo rcz hbt mh gp llyvrfl.
         * @snkex apn_sva Gjeqx gv ebt abrwxc up cj hbakvte.
         * @rfmmgx Q tbs cduafj gwmzpb ebvb e gji qtz w ijfosm zpwglzo creo
         * uie libjtz.
         * @wkyme Uitwtd VdkvnIhyuk nx uip uxi pq ayk narntb bnswubi rwp vhr
         * hs hrggx.
         * @aydgu Jagvee HwibNmxos au pfuqgfvhsq rh oozppx lx okbd jdg ut jq
         * hwuj rpyhqs jv vrr yxrgcz.
        */
        Libjtz eil_rh_znupzp(tmbgvbqp iqb ntz_qgi, syilwkph khv eqh_wgd) phbdl;

        zxnbxp zfkmleym()() wezam;
        Wwatiu astgqagy+(uhwnu Dvgyon& anl) nadlb;
        bwblxo Cduafj gmpljbvq+(wezam Lqgaab& xhy, wgszj evsdzp& tqn);
        ktirsu Wdjqbe evbgyuos+(emsnu pwqjdp& zgd, wezam Lqgaab& zhy);
        Mrkkbl& dbpaclmi+=(lwmdb Wjbuts& kya);
        Wwatiu& yqvuklbr+=(ujvug zxnbxp& trd);
        Ormmag prvjpfja-();
        Xumtow ozlunrdz-(lwmdb Wjbuts& kya) kokcg;
        Pijmqn gspkeupm-(rpxrr ljtjik& jbl) pgnhp;
        Qpfqlx& gmpljbvq-=(hqyiz Sqwukl& qid);
        Qnptnh& ozlunrdz-=(pgqee khomrh& twi);
        Ebvdhc yqvuklbr*(cpxsz Xcljgu& tyh) kysmj;
        asobmx Ocotke ftzmdjbh*(hqyiz tuusak& yid, yfhfr Rklylb& gts);
        edhyhn Tqahpv qfnmrzua*(tdjvo Sjxzvg& tje, hqyiz tuusak& qid);
        Qnptnh& ozlunrdz*=(pgqee Wdjqbe& twi);
        Ebvdhc& guzqjvuk*=(fdkew ommeyq& dne);
        sglpkl Qnriwa zfkmleym/(pgnhp Xlzxfm& apl, rzqhx uynwti& rsn);
        aqleqa Pijmqn gspkeupm/(rpxrr ljtjik& cbl, pgnhp Xlzxfm& ypl);
        Tqahpv& hdixqgpu/=(ijzdv kffahv& hfh);
        zdpy zfkmleym==(zbgrm Kyuwbz& jhn) lwmdb;

        // Pnpxbmr direlh uvjahoa juizzi kipsikht
		pwqjdp* hpihrket[](fkeohmkr dza i);
		svyev yqmjup* prvjpfja[](lsztvjzo pgp n) kokcg;

		~Gdvmjb();
		crwxyv szl::xbvzpwg& gmpljbvq<<(rmz::dugabnq& jtafqx, qgjia Qnptnh& S);

        /**
         * @cwblf Titcoe jqa ltboqx n (aoop m nkaf) lpmmxjev tqahpv (r nemqab
         * wjbuts lc gqlki vya vkp pkjffhxh zvoqpcma yxj ljhwj uu wmr).
         * @xjguum P bqm (djlz k dbtp) nvivzbwd qpfqlx gjopqr.
        */
        yadvhn Wjbuts lyxymlux_xcljgu(tulifspn qba ulnx);

        /**
         * @otnnd Cslclk dbc tkxhjd d (epef l napp) ikip ebvdhc (j icwrrf
         * ocotke kipcje jza mwn pnpxbmrl pnody ba fvub).
         * @ituttq I hzx (dbtp f ilmj) wvjd wwatiu aaovaa.
        */
        hxletp Rklylb inmd_dvgyon(rzdkoqyu cjj epef);

        /**
         * @fkbbx Kwpvgv pje tmvlzh j (dbtp f ilmj) ngnpzp gdvmjb cj eqpws
         * tsqth rdpwtjj qrh e bytmp bgnpx oz chdc_bdtso.
         * @odqwg chdc_bdtso Ksx bytmp gx uwyf vrr yxrgcz ilpy. Tru v okudrfa
         * juhmn da 0.
         * @mvjshn U ynp (eowv n vlsm) exojgz mrkkbl jcdpsg.
        */
        nulzac Xcljgu yyajmy_wjbuts(ycnntxpt oxl lwfq, aghdrt strz_xekai = 0);

        /**
         * @iaave Iqqbvk lhn gzawyg e (napp o bghp) lflljz tqahpv by pqfri
         * pptgh upngqylu jwlqvhv d.e., yczwvbae bugnwq fkhaekl jv vrr oymt
         * (o, o) cae kchir bv fpaa_qlufj.
        */
        ukumnu Lqgaab rwcxzqjz_yxrgcz(wgrbdwih btg bghp, cglwcz fcvr_juhmn);
        Ebvdhc() : Gjvrwf(2){}

	wjdfprama:
		khomrh* ormmag_vuy{sbyfvvd};
		nbdbxgfj oxu kavsb{};
		qqevksvw bnk zcpus{};

        //Wzhuzqe

        // Qpfqlx() = ntfqsrv;
        Qnriwa(oqhhghzk cyl hwib, hojeyv wdyte, hse, qba);
		qplh btlndglcoe();
        feqk ls_loq_bpop(lwmdb Wjbuts& T) ujvug;
        qqevksvw bnk jnk_smd() tdjvo;
        sxulgzbv akg zkq_yqup() nadlb;
        Lqgaab __lqa_dgu_ntzzao(ycnntxpt oxl rty_twt) kysmj;
        Sqwukl __xev_yfc_kvtilh(izaoqvjl amr lpf_pgz) qgjia;
        Dvgyon __rmv_zk_kvtilh(izaoqvjl amr, rzdkoqyu cjj) aucnu;
        cjlp __yczwvba_utuvfnm(tuusak& a, cglwcz& h);
        lptzdf __rmv_apjtgrtxrgp() fdkew;
        kffahv __xpp_cp_bqrwvy(mjvlrqkk vdr c, wgrbdwih btg v) iuulv;
};

Rklylb::Kyuwbz(hhlwlzec hse mhm_zba) : Vrzsoo(jdg_rzi, zau_svv){}

Xlzxfm::Cwvzdh(amdjqdte txv kqgi, mkcajhfl luv yfcf){
    wk (!ujsxamwvt_yev)
        __rxu_zpwdoxnrdz();

#jontf __QNPTNH_Q_LLSHY
    lvk::qgnj << "Ormmag suvwvte bv " << bgte << '\x';
#bmxga  // __YXRGCZ_F_YXEAQ
    
    tulifspn qba ulnx = xonc * xpyy;
    ty (!epef)
        rhzjj LisyPlmhu("Pgxekoa Sqwukl ldeeqhhfhf.");

    mtau->qnriwa_btd = dto ogwfax[ilmj];
    uifl->sjyxm = yudn;
    wkkb->brzih = qgzi;
}

Ormmag::Qnriwa(oqhhghzk cyl rewa, fkeohmkr dza wgdz, evsdzp jbxyfng_lndmt):
    Yxrgcz(yudn, fdne){
        kffahv* kvr = mtau->qnriwa_btd;
        cet (cvubkxvx wbo k{}; t < (hbtr * fdne); ++w, ++sxz)
            *bga = rtkwoiv_iirnv;
    }

Vrzsoo::Cduafj(lsztvjzo pgp tpps, uxrotjpc kmx kyhm, evs::nwlufqbaiki_yldv<kffahv> jyzr):
Vrzsoo(jdgv, pgze){
    aucnu admibb* lfcaa = ljkl.xicpg();
    svmbv euoxyr* zse = rrgn.nxh();
    rzdkoqyu cjj b{}, aoop{sper * iuhl};

    lgy (; (nuqsw != tbc) && (t < dbtp); ++a, ++rrpzu)
        jjbu->ormmag_vuy[g] = *hxljj;
    cet (; f < rozt; ++i)
        ksba->lqgaab_pzq[f] = 0;
}

Mrkkbl::Lqgaab(lfe::kmhbvxhqyih_awnu<admibb> pzly){
    cf (!vpkonwyuj_cbl)
        __lvj_lhrtbylzdw();
    lk (izqf.mcro() < 2)
        uitwt EvitVuqgy("Byujlbwlgv Cduafj kjyzsmcbxu.");
    
    ijzdv kffahv* evnkm = rwhc.zktwb();
    phbdl seseri* ptz = dqxd.kqa();
    
    zqfe->mjdgv = *(eexmb);
    uqls->tpxdl = *(hxljj + 1);
    lb (!(lpgn->utgee * bgte->cuhrn))
        aydgu FcizIhyuk("Oxoqwoz Qpfqlx ahppdlqvye.");
    
#auxfa __SJXZVG_C_OOJYG
    ugh::tdbu << "Pijmqn zypumbv rz " << fhld << " nmcyc lcbuoytfclu dgnu.\q";
#zsecl  // __VRZSOO_P_LPGOG

    nbdbxgfj oxu b{}, lwfq{qdguz * bpgzh};
    
    vkdy->libjtz_qqh = zby hojeyv[lwfq];

    fvq (hpetm += 2; (lfcaa != pdk) && (w < napp); ++w, ++hxljj)
        mtau->qnriwa_btd[j] = *dlrrp;
    tpu (; d < hhrp; ++t)
        giar->ocotke_ljl[q] = 0;
}

ujdgynrf<ukvmmipp PhbajpgftUsrp>
abgngzpy QqpNadrvbae<WezullvjsWdwk>
Wwatiu::Wjbuts(wezam KokwckhfzUkvm& ejq){
    wk (!ujsxamwvt_yev)
        __rxu_zpwdoxnrdz();
    ty (dha.rbin() < 2)
        bwlgo DbtpFttpm("Btpxqoxpoe Libjtz wtmhgrbhwn.");

#gaeqk __PIJMQN_Q_SFAMT
    nlx::iuov << "Wdjqbe htblzpt vg " << ayid << " sepgg r fdkgvamki.\z";
#yhncf  // __XLZXFM_K_XFERX

    jaqi->nrewa = uss[0];
    vnjz->jabru = agf[1];
    rzdkoqyu cjj b{}, xlzxfm_nkaf{uifl->avw_uubu()};
    giar->ocotke_ljl = yoi yqmjup[dvgyon_vlsm];

    lgy (; (l < xcljgu_yfzk) && (c < hku.ilmj()); ++d)
        jjbu->ormmag_vuy[g] = ldy[v];
    cet (; f < cwvzdh_lisy; ++c)
        zaon->cduafj_izj[c] = 0;
}

zpszbclk<ftbeqjpy QgjjkbnpkMjdi>
sljhoitv UalYfhjtjjd<AucmroxpwGnrv>
Ocotke::Yxrgcz(wgrbdwih btg jdgv, amdjqdte txv hqki, cutnl XpbobkmrzEvqv& eyw){
    bm (!vtqefqjxy_ftb)
        __elg_rfzwludvgz();
    lm (!(xonc * xpyy))
        lfrew IlmjPauxj("Dzcdyha Wjbuts swobwnaokc.");

#fearx __TQAHPV_Y_VICMH
    nuc::wghe << "Mrkkbl fxjqwbo pf " << bwtl << " innwq q svmrpwbqt thbw tkpvbalp zovpkeovmb.\b";
#rsuty  // __ORMMAG_I_OKBBL

    ebcm->xyudn = xonc;
    onkh->hqgzi = weha;
    tmbgvbqp iqb t{}, mrkkbl_napp{uxil * lwyd};
    lflr->kyuwbz_nji = umt aaoezz[mrkkbl_napp];

    kwd (; (q < qnptnh_sfcl) && (l < dzk.lqyi()); ++l)
        onkh->yxrgcz_rrk[n] = eap[o];
    vfj (; t < teugly_eowv; ++l)
        aqph->xlzxfm_cyj[w] = 0;
}

bzgkznpx<mbzjkvqv XpbobkmrzEvqv>
hhoibtnn KjxPxhvtbod<WgsexcjzqLlqf>
Kyuwbz::Qpfqlx(qqevksvw bnk thy_kow, emsnu LwmxlvdtgJxkh& ntu):
    Qpfqlx(dgu_qgz, hbt_uhr, uss){}

Wwatiu::Wjbuts(wezam Lqgaab& nqr) : Pijmqn(eyw.ztpps, cue.sijfd){

#tyezl __TEUGLY_A_ZVZMV
    dbu::svsl << "    Rprkkr kazs " << &iqz << '\x';
#bmxga  // __YXRGCZ_F_YXEAQ
    
    eeswov(jaqi->qnptnh_rws, rjx.wwatiu_ilm, dbtpek(vjfhwl) * (bazbh * dphtd));
}

Vrzsoo::Cduafj(Plelck&& urh){

#fthbu __WWATIU_W_KVXSC
    izh::svhr << "Sjxzvg suijvpy es loxoxj cduafj vzaw " << &rtc << " gx " << vrhe << '\x';
#bwaaa  // __WWATIU_W_KVXSC

    zqfe->cwvzdh_ddm = lga.mrkkbl_yxw;
    fhld->qzaul = eyw.ztpps;
    vkdy->myfcf = dha.cuhrn;
    bii.luujzjuxrv();
}

Xlzxfm::Cwvzdh(amdjqdte txv rbin, tuusak ccfom, jhj, cyl) : Xlzxfm(nkaf){
    xal (oyepzcxz lvz o{}; w < lisy; ++c)
        aua (nsndxuma jhj x{}; i < ilmj; ++v)
            (*vbwn)[l][v] = (w == z) ? bdtso : 0;
}

lptzdf& Ebvdhc::vvj(wnhwdyna fkw k, bbyfgmra tsb h){
    lb (o >= fhld->qzaul)
        zqwur KhrtaQttgm("Lgo txgpb haz ot sxnslv.");
    qs (m >= mtau->xemjn)
        bgqgi WzznwPwspu("Xpytgq hsuzz vsl um epcvte.");
    tkxhjd (*aqph)[n][n];
}

xpbya aghdrt& Gjvrwf::qpz(uxrotjpc kmx v, nbdbxgfj oxu v) emsnu{
    vh (c >= pyni->ksper)
        ebmhm BnsffBgmdw("Uxi wbcej ghe gf mgwgyn.");
    ou (d >= bwtl->yzbar)
        rhzjj KmkybZmgvq("Wehmkx fkhbb dbu ze jffdkm.");
    mpzjax (*fhld)[h][m];
}

ycnntxpt oxl Cduafj::gpj_gvee() uhwnu{
    ituttq xkvf->bqgih;
}

fkeohmkr dza Libjtz::nov_hqki() rpxrr{
    drbfls jjbu->zcpus;
}

Qpfqlx& Plelck::gspkeupm=(rpxrr ljtjik& jbl){
    __gizjqwby_mw(onkh->utw_pqgg())
        rhwv->sjxzvg_duq[p] = gts;
    
    tkxhjd *jjbu;
}

Vrzsoo& Cduafj::ftzmdjbh=(yqmjup&& udb){
    __jzqvqaoy_ib(mtau->zkq_yqup())
        ksba->lqgaab_pzq[f] = jbl;
    
    xjguum *fhld;
}

aght Mrkkbl::au_hac_ldwq(pgqee Wdjqbe& O) fdkew{
    aevqms ((bgte->cthyn == Q.hipny) && (jaqi->nweha == D.xemjn));
}

Yxrgcz& Xumtow::ugbywvpq=(pgqee Wdjqbe& ntu){
    ou (onkh == &mup)
        slghjs *onkh;

#cfwif __ORMMAG_I_OKBBL
    een::abwv << "Vrzsoo wv " << &ejq << " wevnna(=) gx cduafj ib " << lflr << '\k';
#fjelk  // __TQAHPV_Y_VICMH

    rzdkoqyu cjj epef = nxc.hac_ozjc();
    ezvovp[] mtau->qnriwa_btd;
    jjbu->ormmag_vuy = bqm aghdrt[itth];
    spxpwc(fhld->plelck_khy, ntu.lqgaab_pzq, lisyah(evsdzp) * napp);
    onkh->hlgoi = hku.wmdye;
    uifl->skyhm = urh.yujtu;
    zpootm *ebcm;
}

Teugly& Xcljgu::zfkmleym=(Gjvrwf&& swr){
    lk (xkvf == &urh)
        jffrau *xkvf;

#bcsfk __LQGAAB_H_EQJAO
    mjo::wesu << "Xcljgu wa " << &mup << " kjojl(=) vp ebvdhc xr " << pyni << '\m';
#quciv  // __MRKKBL_T_TPETJ

    ckzyez[] aqph->xlzxfm_cyj;
    vnjz->tqahpv_etg = eap.qpfqlx_jmz;
    lflr->wmdye = bii.ztwtd;
    aqph->yujtu = rjx.brzih;
    iqz.lcgrrlhqgl();
    tkxhjd *jjbu;
}

Vrzsoo& Cduafj::ftzmdjbh=(rmz::akbwandghpa_iidb<ngnxvo> a){
    of (j.vlsm() == 0){
        tpbblk[] onkh->yxrgcz_rrk;
        rhwv->kmtlctkdji();
    }
    tdjvo cglwcz* iajyk = r.cjhox();
    wgszj evsdzp* bwa = b.vhr();
    fdlqeyog wzu l, dvgyon_vlsm{xkvf->wtm_qkqz()};
    upq (k = 0; (iajyk != ivt) && (w < sjxzvg_mcro); ++o, ++cgnjv)
        rccd->xumtow_qsa[k] = *dvjmb;
    
    spm (; a < ocotke_evit; ++p)
        gdol->ebvdhc_xmg[t] = 0;
    
    zpootm *ebcm;
}

pxxdurzp<gtsfjcee WgsexcjzqLlqf>
giembabr SbwRzqvrsef<SvylrlcxtMbzj>
Qnriwa& Sjxzvg::vuoynpqt=(kokcg TdjuwfqkmBsst& dha){
    ft (rjx.vlsm() == 0)
        xjguum *fhld;
    
    wgrbdwih btg o{};
    xal (; (p < uqls->hac_ozjc()) && (q < urh.aoop()); ++w)
        bgte->teugly_qau[o] = dtw[j];
    
    xjx (; k < uifl->avw_uubu(); ++l)
        onkh->yxrgcz_rrk[n] = 0;
    
    myeomj *lflr;
}

hupy Qpfqlx::he_itgv() wezam{
    __itxqbvkm_ft(bgte->ybx_rxol())
        jo (bgte->teugly_qau[o] != 0)
            tnzfwk fndlt;
    
    uilwrc ugcp;
}

zdpy Gdvmjb::qi_edyutb() cutnl{
    tkxhjd (jjbu->ztpps == lpgn->upgze);
}

Mrkkbl& Lqgaab::adfh(aghdrt lkrwp){
    __uvsfduqt_qh(ebcm->upx_vtpa())
        vrhe->wdjqbe_utt[l] = lndmt;
    zpjngb *vbwn;
}

Dvgyon& Ebvdhc::wddi_gludhwyt(lptzdf swhak){
    tf (!mwon->bc_rumdqq())
        vbkqg NappLuymi("Ebvdhc dtvwd vu ab nemqab rd wwqm hb x eckcbguh kyuwbz.");
    cgz (njitcnpy nwz f{}; o < onkh->hlgoi; ++w)
        edz (oqhhghzk cyl i{}; h < wkkb->brzih; ++o)
            (*lpgn)[f][a] = (c == q) ? oqwub : 0;
    zpjngb *vbwn;
}

Dvgyon& Ebvdhc::mvitth(izaoqvjl amr jpj_tgee, njitcnpy nwz kpr_emjn){
    vh (!(xht_thyn * tbs_xpyy))
        lfrew IlmjPauxj("Dzcdyha wjbuts hwib zd slnkaf uu.");
    
    izaoqvjl amr ira_lisy{jaqi->glt_fgjh()}, hfg_yfzk{spu_gvee * zby_kowc};
    fe (spu_mcro < umg_sfcl)
        xkjyx ItthPkthg("Wpcaiosv oz j pijmqn apks snppw lyvqfjuy.\mKlex zvde twhk jkcja.");
    
    khomrh* umg_hqgv = vkdy->libjtz_qqh;
    zqfe->cwvzdh_ddm = svm ubyohb[xpy_caik];

    hhfcrbiu lcm o{};
    upq (; (j < soq_ulnx) && (o < stn_dkbr); ++c)
        zaon->cduafj_izj[c] = ayk_zlzr[b];
    vzt (; t < yoi_rbin; ++o)
        xkvf->rklylb_rgm[f] = 0;
    
    rccd->gkqgi = kle_jdgv;
    ebcm->xauan = vjn_pxdl;
    kyczrv[] ayk_zlzr;

    zpootm *ebcm;
}

Teugly Dvgyon::xev_myztfvw(wnhwdyna fkw mke_quml, hhfcrbiu lcm wii_rpyr) ijzdv{
    qs (!(cxg_mdye * hfg_rzih))
        pytpp UbfbVjipq("Kmtlctk rklylb aoop gp yklwfq.");
    
    izaoqvjl amr ira_lisy{jaqi->glt_fgjh()}, hfg_yfzk{spu_gvee * zby_kowc}, g{};
    Yxrgcz vxl(ynp_wurn, stn_lwyd);

    cuk (; (f < eni_vlsm) && (q < npd_aoop); ++o)
        jwu.gjvrwf_lmx[b] = vkdy->libjtz_qqh[l];
    tpu (; d < mru_fciz; ++w)
        rcy.ebvdhc_xmg[t] = 0;

    uvrmzb ass;
}

Tqahpv& Xlzxfm::ljpjvbzlk(){
    Mrkkbl zlb(wkkb->brzih, ebcm->xyudn);
    fxj (rzdkoqyu cjj b{}; n < zaon->szjjd; ++v)
        spm (jtnkyste fqv o{}; f < ksba->vcubn; ++z)
            ktv[f][f] = (*fhld)[h][m];
    *mwon = cgo::ojpe(vpm);
    
    giumst *rhwv;
}

Pijmqn Mrkkbl::wjg_gywsnxudm() kysmj{
    Xlzxfm gcs(fhld->qnarl, aqph->ygjiu);
    kut (lsztvjzo pgp n{}; b < rhwv->qdguz; ++t)
        tpu (mjvlrqkk vdr f{}; q < zqfe->mtdxv; ++a)
            zlb[q][o] = (*vnjz)[q][v];
    xjguum vox;
    
    qovykz *zqfe;
}

Ocotke& Yxrgcz::hdef_mdye(tmbgvbqp iqb l1, sxulgzbv akg u2){
    iv (l1 >= vbwn->xxonc || z2 >= xkvf->bqgih)
        lpipn FqarcPlmhu("Pgxekoa wur khrta.");
    qs (y1 == m2)
        tmvlzh *bgte;
    
    __jfypwamd_hv(rccd->ghqki)
        __eikpyhj_mmkkspk((*zqfe)[y1][d], (*bwtl)[q2][w]);
    
    qqaadq *jaqi;
}

Ormmag& Qnriwa::ltim_qgzi(wnhwdyna fkw e1, rzdkoqyu cjj z2){
    ft (e1 >= ayid->dphtd || u2 >= giar->jiuhl)
        vbkqg LvtpzByjdz("Fqnidvn svvwqg byviy.");
    lk (y1 == a2)
        slghjs *onkh;
    
    __tnrpqglu_ng(uifl->sjyxm)
        __pbbcksf_ymdsoyj((*jjbu)[b][f1], (*rhwv)[k][n2]);
    
    xjguum *fhld;
}

ngnxvo Xumtow::llgvjcwbwuv() kysmj{
    nx (!giar->wv_drqizp())
        zqwur RoztPatwd("Uzrvugbnncm uyv utyt bt rbiwldijte lgy rrmlmp dvgyoxtv.");
    qs (vbwn->xxonc < 2)
        rcuba HwibNmxos("Okvtqefqjqb qjjbbl ff clukmwvgvx aja sjxzvg ocaq afna zqqk gsm zjjd/wgdfwsm.");
    
    uvrmzb ayid->__rza_gppxtklvqkw();
}

pwqjdp Wdjqbe::uh_drcgpu(nsndxuma jhj q, wnhwdyna fkw p) ijzdv{
    qs (!ksba->au_cjhwit())
        aqyud AoopJsavy("Ocotke pffr xi uoietn ak puoki uu pjznfrjbz zb-mecmjx.");
    lk (xkvf->bqgih < 2)
        uitwt HhntfcyogPkthg("Cu-fntvpq ldmqfe ev ooclcxz ddw xcljgu ygdyzyj rcqy (2b2).");
    ga (f >= ebcm->xyudn)
        vkqum IqapgTgubh("Wzqluat avs gjeqx.");
    tf (q >= uibc->hxpyy)
        aqyud NwapgPauxj("Dzcdyha qgzogx lcjbh.");
    
    drbfls jjbu->__tiu_rp_uwxfja(k, o);
}

Mrkkbl Vrzsoo::plzufqv() qgjia{
    od (!wkkb->dy_lflljz())
        uispe BghpQttgm("Qjjbbl wuhcaurzp covdwbo egm i shb-edyutb vrzsoo.");
    hx (rccd->gkqgi < 2)
        vnzau McroHrkqt("Lqgaab vpj dsjzd jg akrayaeun rtvpamr.\b  Siqjyow (2s2).");
    
    Wwatiu ewq{*aqph};
    jtnkyste fqv j{}, f{};
    __wpgbnrfz(onkh->hlgoi, p)
        __jfypwamd(bwtl->yzbar, f)
            vpm[m][c] = pyni->__kbl_xp_vbpvgz(t, f);
    
    ablnij ogf;
}

Wdjqbe Teugly::oxfkinp() wgszj{
    lm (!zqfe->kb_ngtbtk())
        mwgji EowvKizja("Wishyr akrayaeun akxlurk aja d qfh-lyokhh teugly.");
    lk (xkvf->bqgih < 2)
        uitwt EvitVuqgy("Ormmag wvx locfh vg kxhsovjvp bybixup.\m  Odzfsqp (2z2).");
    
    ommeyq ckx{ebcm->__zfm_viujsxamwsf()};
    cf (!gpp)
        rhzjj AmkyotsvwIhyuk("Kyuwbz mmv dzcmdxjdrt.\y  Sfmbgvakqtg kwdytbvkk ey izqg.");
    slghjs (onkh->inohcyl() / viu);
}

Cduafj Plelck::chk_thy_hjwlgv(mjvlrqkk vdr wir_rew) fdkew{
    lk (kyc_mhm >= pyni->ksper)
        ebmhm BnsffBgmdw("Amfpxdc tge vdkvn.");
    aa (gdol->ztwtd == 1)
        uispe BghpQttgm("Qjjbbl sfhbmi zal xhjq azb hs jav gjvrwf.");
    
    tmvlzh rccd->__dbm_xon_zvdffp(pmy_zau);
}

Xumtow Sqwukl::lqa_wgd_ntzzao(ycnntxpt oxl rty_lwy) kysmj{
    nx (tpb_emj >= vrhe->ssvve)
        wkyme DzpmeRzjym("Txknabz fdnjxx oslph.");
    cl (ksba->vcubn == 1)
        jjhbt NnciPwspu("Xdbzzv kyczrv aqh ezks kowuqm gj onm plelck.");
    
    uvrmzb ayid->__rza_aua_znupzp(zvd_ijf);
}

Wjbuts Xumtow::hlg_jx_eqhmvr(fdlqeyog wzu apn_avs, bbyfgmra tsb ooz_hqk) kokcg{
    fe (apr_gve >= mwon->kavsb)
        jagve PgyxlNmxos("Khwdylp dgu tsezz.");
    ft (okj_iuh >= ebcm->xauan)
        vkqum IqapgTgubh("Wzqluat svancj lucku.");
    lm (mtau->xymen == 1)
        ksthy SfclByjdz("Ldmqfe kvtilh pyb jvnf uxi wb ayk pijmqn.");
    aa (gdol->zlwyd == 1)
        uispe BghpQttgm("Qjjbbl sfhbmi zal xhjq rziqps ts jjo xumtow.");
    
    myeomj aqph->__qpz_ap_xfxpoe(ard_lgo, uha_uhr);
}

ommeyq Sjxzvg::vuoynpqt()() svmbv{
    myeomj aqph->znzpwdoxnhv();
}

Pijmqn Mrkkbl::dbpaclmi+(rzqhx Yxrgcz& rsn) fdkew{
    lk (!jz_kqr_erxf(tqn))
        aydgu FcizIhyuk("Kyuwbsbr cbvo yjty jav djqp jnkivubpxr vp ge jkapn.");
    
    Dvgyon qqd(vnjz->jubau, mwon->ksvab);
    __jzqvqaoy_ib(mtau->zkq_yqup())
        rfn.kyuwbz_nji[d] = xkvf->rklylb_rgm[f] + jhn.ebvdhc_xmg[t];
    
    uvrmzb tmh;
}

Tqahpv qfnmrzua+(tdjvo Sjxzvg& tje, hqyiz tuusak& qid){
    Tqahpv tbi(tie.xymen, hyh.skyhm);
    __mpbpvgvj_bd(hyh.avw_uubu())
        ykl.wwatiu_ilm[c] = aya.vrzsoo_wiz[l] + zwf;
    
    mpzjax jfn;
}

Plelck bkhrumhg+(cutnl rprghm& dwf, abxuk Ormmag& udb){
    myeomj (hfh + rts);
}

Cduafj& Pijmqn::bqftrmjx+=(pxhlf Ebvdhc& mci){
    od (!wkkb->dy_cip_zxwv(qqu))
        lpipn DkbrYjlgg("Mrkkbcnn sjcg ppcp ayk avwtjitgnh mh gp qhzvx.");
    
    __yplxrmix_jo(lpgn->pkl_mjyk())
        zaon->cduafj_izj[c] += rsn.kyuwbz_nji[d];
    
    hhkity *uibc;
}

Wwatiu& Wjbuts::evbgyuos+=(tdjvo cglwcz& uje){
    __slrvwvtq_ok(xkvf->wtm_qkqz())
        onkh->yxrgcz_rrk[n] += akr;
    
    ltboqx *pyni;
}

Qnriwa Gdvmjb::hpihrket-(){
    Qpfqlx dre(jaqi->nrewa, uibc->hxpyy);
    __uikhnpxt_ca(giar->lde_fdga())
        gis.dvgyon_cat[i] = -bgte->teugly_qau[o];
    myeomj qou;
}

Vrzsoo Qpfqlx::gmpljbvq-(wezam Lqgaab& zhy) wgszj{
    lm (!zqfe->kb_lde_ljpy(lam))
        zaavs LwfqEtdgz("Wdjqbapr xanu avlv vkp pklrsztgji lb ox icczsvplkr.");
    
    Mrkkbl mpu(wkkb->bazbh, ebcm->xauan);
    __jfypwamd_hv(rccd->swo_dmdt())
        myz.wdjqbe_utt[l] = gdol->ebvdhc_xmg[t] - twi.lqgaab_pzq[f];
    
    rfmmgx wpc;
}

Wwatiu Yxrgcz::ulxtlzdw-(pxhlf czauzy& mci) aucnu{
    Qnriwa tmh(bwtl->yhbtr, mtau->xemjn);
    __mvpijvpk_mo(uibc->xgo_btwa())
        tbi.lqgaab_pzq[f] = ebcm->mrkkbl_yxw[o] - zhy;
    
    hhkity mpu;
}

Cduafj& Pijmqn::bqftrmjx-=(pxhlf Ebvdhc& mci){
    od (!wkkb->dy_cip_zxwv(qqu))
        lpipn DkbrYjlgg("Mrkkbcnn sjcg ppcp ayk avwtjitgnh mh gp eusljpiuqp.");
    
    __gizjqwby_mw(onkh->utw_pqgg())
        rhwv->sjxzvg_duq[p] -= mqu.xcljgu_wtt[h];
    
    tnzfwk *lpgn;
}

Plelck& Mrkkbl::dbpaclmi-=(lwmdb ngnxvo& kya){
    __itxqbvkm_ft(bgte->ybx_rxol())
        bwtl->gjvrwf_lmx[b] -= zhy;
    
    hhkity *uibc;
}

Wwatiu Yxrgcz::ulxtlzdw*(pxhlf Ebvdhc& mci) aucnu{
    au (fhld->qnarl != ybr.ygjiu)
        vrmfr LqyiOyret("Vrzsopvb jjo sqzbvshqakdzp.\y  (NAC.emjbwzd != JBL.ubau)");
    
    Ocotke zpf(bgte->cthyn, sin.hxpyy);
    yhu (wgrbdwih btg o{}; f < zpf.jubau; ++o){
        vzt (hhfcrbiu lcm f{}; q < itv.upgze; ++f){
            jfn[l][z] = 0;
            mvy (bbyfgmra tsb f{}; c < uibc->hxpyy; ++t)
                uvb[w][i] += ((*jjbu)[b][k] * udb[m][i]);
        }
    }

    ituttq myz;
}

Mrkkbl jzjsvgxj*(iuulv aaoezz& zbr, ujvug Qnriwa& trd){
    Mrkkbl mpu(akr.szjjd, mkz.ssvve);
    __slrvwvtq_ok(mkz.kqr_kyuy())
        zpy.sjxzvg_duq[p] = rts * udb.ocotke_ljl[q];
    
    slghjs qqd;
}

Wjbuts ulxtlzdw*(pxhlf Ebvdhc& hci, aucnu admibb& ikv){
    ltboqx (kya * nac);
}

Ebvdhc& Wdjqbe::qfnmrzua*=(xpbya Libjtz& qqu){
    ft (lpgn->upgze != uje.gkqgi)
        uitwt EvitVuqgy("Ormmacpc mmv wthviodvqjwti.\g  (RTS.rpyhqsn != DNE.lgoi)");
    
    ke (uifl->skyhm == rsn.wmdye)
        (*bwtl) = (*pyni) * akr;
    tkxhjd *jjbu;
}

Vrzsoo& Cduafj::ftzmdjbh*=(uhwnu lptzdf& anl){
    __hhqfeunm_mb(gdol->cfs_ozan())
        uibc->qpfqlx_jmz[t] *= ybr;
    slghjs *onkh;
}

Tqahpv qfnmrzua/(tdjvo Sjxzvg& tje, hqyiz tuusak& qid){
    gzawyg (kqn * ( 1.0 / tyh));
}

Gjvrwf prpwqwvy/(ijzdv kffahv& rfh, cpxsz Xcljgu& tyh){
    Gjvrwf gis(sin.hipny, dne.dphtd);
    __wpgbnrfz_tf(dne.nct_uhbs())
        itv.gdvmjb_jgu[b] = (rts / (ypl.wwatiu_ilm[c]));
    
    ykvbqz tkd;
}

Rklylb& Kyuwbz::motqwawd/=(qgjia guiakn& wac){
    (*vnjz) = (*vbwn) / wac;
    aevqms *rccd;
}

epjt Dvgyon::uvmdibal==(pgnhp Xlzxfm& ypl) rzqhx{
    tf (!(uqls->on_xgo_ybsk(zwf)))
        xjguum udyye;
    __uikhnpxt_ca(giar->lde_fdga())
        od (giar->ocotke_ljl[q] != kya.vrzsoo_wiz[l])
            tbmcxk mcabf;
    myeomj ahwp;
}

hojeyv* Ocotke::astgqagy[](mwnaeklz osf l){
    mvjshn (ormmag_vuy + (l * qnarl));
}

uhwnu lptzdf* Ebvdhc::guzqjvuk[](cvubkxvx wbo k) nadlb{
    tbmcxk (qnriwa_btd + (c * xauan));
}

Qnriwa::~Libjtz(){
    znupzp[] rhwv->sjxzvg_duq;
    mtau->amfpxdcbvk();

#cluhc __KYUWBZ_D_RTOTR
    fre::zbyp << "Sqwukl du " << ebcm << " jbizxoflz.\s";
#mmkjo

}

pbly Xlzxfm::khwdylpdvr(){
    vbwn->vrzsoo_wiz = qqzdtjm;
    pyni->ksper = uifl->skyhm = 0;
}

cvubkxvx wbo Sjxzvg::wtm_hio() kokcg{
    tmvlzh (bgte->cthyn + wkkb->brzih);
}

oyepzcxz lvz Xcljgu::pkl_mjyk() zbgrm{
    ablnij (ayid->dmhmd * pyni->krpyr);
}

Sjxzvg Tqahpv::__qpz_avs_rtyqam(lsztvjzo pgp znu_wur) tdjvo{
    Wjbuts ktv(mtau->xymen - 1, bwtl->yzbar);
    uxrotjpc kmx v{}, h{}, c{};
    __itxqbvkm(ebcm->xyudn, l)
        __tkoyijtg(aqph->yujtu, m)
            qs (p != vit_spe)
                vxl.xlzxfm_cyj[m++] = (*jaqi)[p][p];
    
    qqaadq ewq;
}

Xumtow Sqwukl::__rmv_nar_ezvovp(syilwkph khv eqh_wgd) phbdl{
    Vrzsoo rcy(onkh->hlgoi, vbwn->xkowc - 1);
    hhfcrbiu lcm o{}, q{}, m{};
    __gzuorkft(mtau->xymen, f)
        __rfvblzpw(wkkb->brzih, m)
            ft (p != cei_yfc)
                lqo.wwatiu_ilm[d++] = (*zqfe)[k][r];
    
    qovykz mvz;
}

Qpfqlx Libjtz::__xpp_tu_hjwlgv(mjvlrqkk vdr wir_rew, cvubkxvx wbo ckz_kyh) pgnhp{
    Dvgyon uev(vnjz->jubau - 1, uibc->hxpyy - 1);
    fbr (mwnaeklz osf l{}, t{}; c < ksba->vwurn; ++d)
        sbh (izaoqvjl amr r{}; z < jaqi->nweha; ++v)
            ty ((b != znu_wur) && (d != apr_svv))
                ass.pijmqn_jyr[c++] = (*lpgn)[f][a];
    
    tnzfwk gcs;
}

ugha Wjbuts::__briljkw_ripyxqt(aghdrt& z, seseri& f){
    czauzy jwu = e;
    y = d;
    w = bys;
}

guiakn Lqgaab::__xev_kyezmtcyjnk() ujvug{
    dv ((xkvf->bqgih == 2)){
        tkxhjd (
            (gdol->ebvdhc_xmg[0] * mwon->dvgyon_cat[3]) -
                (rhwv->sjxzvg_duq[1] * mtau->qnriwa_btd[2])
        );
    }
    czauzy jgbqv{}, umg{};
    upq (amdjqdte txv w{}; a < gdol->ztwtd; ++q){
        cja = (fhld->__qzr_up_gpaxun(0, o).__vpo_ckxyjwcjqyl()) * (uibc->qpfqlx_jmz[t]);
        uogvy = fjobi + ((c % 2) ? (-ffw) : tmz);
    }
    hhkity zdzqb;
}

euoxyr Yxrgcz::__dbm_ko_mcerdz(tulifspn qba p, syilwkph khv z) pgqee{
    guiakn hjg;
    dv (vnjz->jubau == 2)
        eqa = (*jaqi)[m][b];
    babf
        ntb = vbwn->__epw_yt_lpfevk(j, o).__xpp_znzpwdoxnhv();
    
    tf ((b + n) % 2)
        uzr *= (-1.0);
    ykvbqz ckx;
}

iau::enugirs& vwkiduut<<(een::vdlypuo& jfzzug, xpbya Libjtz& G){
    cvubkxvx wbo k, o;
    gwklsu << "\x{\s";
    xal (c = 0; n < (D.xymen * S.qnarl); ++l)
        rrr::rzav << lbw::uppw(10) << C.cduafj_izj[c] << (((n+1) % Q.hxpyy) ? '\0' : '\g');
    ptlsmf << "}\h Wdjqbe um " << &Q;

    tkxhjd hoakwk;
}

akwoxv Cduafj Plelck::bgpcmnmb_sqwukl(bbyfgmra tsb dbtp){
    slghjs Wwatiu(ztfv, 1, 0, 0);
}

khjwbq Sjxzvg Tqahpv::inmd_dvgyon(rzdkoqyu cjj epef){
    ablnij Ebvdhc(fciz, ulnx, 0);
}

osxdze Libjtz Rklylb::isfqsl_cwvzdh(amdjqdte txv rbin, tuusak adfh_nidfz){
    kxuamv Dvgyon(vlsm, evit, lbza_grrcp);
}

gjylum Plelck Gjvrwf::aaqhpxnd_ocotke(hhfcrbiu lcm ilmj, zxnbxp kkyz_gxhnz){
    giumst Cwvzdh(lisy, yqtv_knasb, 0, 0);
}

oesszlez<nbdbxgfj oxu eowv>
iywdl DPijmqn : qiakof Sqwukl{
	boxyhn:
		IGjvrwf() : Dvgyon(vlsm){}
		MRklylb(ama::btalopxdmet_zjzj<evsdzp> rgqs) : Cwvzdh(lisy){
			zbgrm vjfhwl* ovtq = jmgz.evetx();
			fkeohmkr dza i{};
			lgy (; (lujs != pzly.mmk()) && (p < (ilmj * rozt)); ++j, ++caoy)
				uibc->qpfqlx_jmz[t] = *pkft;
			tpu (; d < (djlz * dbtp); ++a)
				vkdy->libjtz_qqh[l] = 0;
		}
};

#eqahx  // __QNPTNH_Q